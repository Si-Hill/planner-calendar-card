{"code":"import { __decorate } from \"tslib\";\nimport { LitElement, html, css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { Calendar } from '@fullcalendar/core';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nlet PlannerCalendarCard = class PlannerCalendarCard extends LitElement {\n    setConfig(config) {\n        this.config = config;\n    }\n    firstUpdated() {\n        this.calendarEl = this.renderRoot.querySelector('#calendar');\n        this.calendar = new Calendar(this.calendarEl, {\n            plugins: [dayGridPlugin, interactionPlugin],\n            initialView: 'dayGridMonth',\n            height: 'auto',\n            events: () => this.getCalendarEvents()\n        });\n        this.calendar.render();\n    }\n    updated() {\n        if (this.calendar) {\n            this.calendar.refetchEvents();\n        }\n    }\n    getCalendarEvents() {\n        const events = [];\n        if (!this.config.entities)\n            return events;\n        for (const entityId of this.config.entities) {\n            const state = this.hass.states[entityId];\n            if (!state || !state.attributes.start_time)\n                continue;\n            const attrs = state.attributes;\n            events.push({\n                title: attrs.message,\n                start: attrs.start_time,\n                end: attrs.end_time || attrs.start_time,\n                allDay: attrs.all_day || false,\n            });\n        }\n        return events;\n    }\n    render() {\n        return html `<div id=\"calendar\"></div>`;\n    }\n};\nPlannerCalendarCard.styles = css `\r\n    #calendar {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    :host {\r\n      display: block;\r\n      background-color: var(--card-background-color);\r\n      color: var(--primary-text-color);\r\n    }\r\n  `;\n__decorate([\n    property({ attribute: false })\n], PlannerCalendarCard.prototype, \"hass\", void 0);\n__decorate([\n    property()\n], PlannerCalendarCard.prototype, \"config\", void 0);\nPlannerCalendarCard = __decorate([\n    customElement('planner-calendar-card')\n], PlannerCalendarCard);\nexport { PlannerCalendarCard };\n","references":["C:/node/planner-calendar-card/node_modules/lit/index.d.ts","C:/node/planner-calendar-card/node_modules/lit/decorators.d.ts","C:/node/planner-calendar-card/node_modules/@fullcalendar/core/index.d.ts","C:/node/planner-calendar-card/node_modules/@fullcalendar/daygrid/index.d.ts","C:/node/planner-calendar-card/node_modules/@fullcalendar/interaction/index.d.ts"]}
